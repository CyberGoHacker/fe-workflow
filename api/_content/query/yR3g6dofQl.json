{"_path":"/docs/code","_dir":"docs","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"代码优化","description":"代码优化","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"代码优化"},"children":[{"type":"text","value":"代码优化"}]},{"type":"element","tag":"h2","props":{"id":"vue-代码方面"},"children":[{"type":"text","value":"Vue 代码方面"}]},{"type":"element","tag":"h4","props":{"id":""},"children":[]},{"type":"element","tag":"h2","props":{"id":"javascript-代码方面"},"children":[{"type":"text","value":"JavaScript 代码方面"}]},{"type":"element","tag":"h4","props":{"id":"使用文档碎片"},"children":[{"type":"text","value":"使用文档碎片"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"将需要添加的大量元素 先添加到文档碎片 中，再将文档碎片添加到需要插入的位置，大大减少dom操作，提高性能"}]},{"type":"element","tag":"code","props":{"code":"let domFragment = document.createDocumentFragment()\n\nfor(let i = 0; i < 10000; i++) {\n  let domSpan = document.createElement('span')\n  let domText = document.createTextNode(i)\n  domSpan.appendChild(domText)\n  domFragment.appendChild(domSpan)\n}\n\ndocument.body.appendChild(domFragment)\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let domFragment = document.createDocumentFragment()\n\nfor(let i = 0; i < 10000; i++) {\n  let domSpan = document.createElement('span')\n  let domText = document.createTextNode(i)\n  domSpan.appendChild(domText)\n  domFragment.appendChild(domSpan)\n}\n\ndocument.body.appendChild(domFragment)\n"}]}]}]},{"type":"element","tag":"h4","props":{"id":"垃圾收集内存管理"},"children":[{"type":"text","value":"垃圾收集、内存管理"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"数据不再有用，将其值设置为null。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"闭包的作用域链中包含着html，有必要把其设置为null"}]}]},{"type":"element","tag":"code","props":{"code":"function fn() {\n  let el = $(\"#el\")\n  el.click(function(){})\n  el = null\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"function fn() {\n  let el = $(\"#el\")\n  el.click(function(){})\n  el = null\n}\n"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"css-代码方面"},"children":[{"type":"text","value":"Css 代码方面"}]},{"type":"element","tag":"h4","props":{"id":"避免出现重绘重排"},"children":[{"type":"text","value":"避免出现重绘、重排"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"代码优化"},"children":[{"type":"text","value":"代码优化"}]},{"type":"element","tag":"h2","props":{"id":"vue-代码方面"},"children":[{"type":"text","value":"Vue 代码方面"}]},{"type":"element","tag":"h4","props":{"id":""},"children":[]},{"type":"element","tag":"h2","props":{"id":"javascript-代码方面"},"children":[{"type":"text","value":"JavaScript 代码方面"}]},{"type":"element","tag":"h4","props":{"id":"使用文档碎片"},"children":[{"type":"text","value":"使用文档碎片"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"将需要添加的大量元素 先添加到文档碎片 中，再将文档碎片添加到需要插入的位置，大大减少dom操作，提高性能"}]},{"type":"element","tag":"code","props":{"code":"let domFragment = document.createDocumentFragment()\n\nfor(let i = 0; i < 10000; i++) {\n  let domSpan = document.createElement('span')\n  let domText = document.createTextNode(i)\n  domSpan.appendChild(domText)\n  domFragment.appendChild(domSpan)\n}\n\ndocument.body.appendChild(domFragment)\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-130f0c"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":" domFragment "}]},{"type":"element","tag":"span","props":{"class":"ct-130f0c"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":" document."}]},{"type":"element","tag":"span","props":{"class":"ct-3fa124"},"children":[{"type":"text","value":"createDocumentFragment"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-130f0c"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-130f0c"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":" i "}]},{"type":"element","tag":"span","props":{"class":"ct-130f0c"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-66dc98"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"; i "}]},{"type":"element","tag":"span","props":{"class":"ct-130f0c"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-66dc98"},"children":[{"type":"text","value":"10000"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"; i"}]},{"type":"element","tag":"span","props":{"class":"ct-130f0c"},"children":[{"type":"text","value":"++"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":") {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-130f0c"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":" domSpan "}]},{"type":"element","tag":"span","props":{"class":"ct-130f0c"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":" document."}]},{"type":"element","tag":"span","props":{"class":"ct-3fa124"},"children":[{"type":"text","value":"createElement"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-0a7352"},"children":[{"type":"text","value":"'span'"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-130f0c"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":" domText "}]},{"type":"element","tag":"span","props":{"class":"ct-130f0c"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":" document."}]},{"type":"element","tag":"span","props":{"class":"ct-3fa124"},"children":[{"type":"text","value":"createTextNode"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"(i)"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"  domSpan."}]},{"type":"element","tag":"span","props":{"class":"ct-3fa124"},"children":[{"type":"text","value":"appendChild"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"(domText)"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"  domFragment."}]},{"type":"element","tag":"span","props":{"class":"ct-3fa124"},"children":[{"type":"text","value":"appendChild"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"(domSpan)"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"document.body."}]},{"type":"element","tag":"span","props":{"class":"ct-3fa124"},"children":[{"type":"text","value":"appendChild"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"(domFragment)"}]}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"垃圾收集内存管理"},"children":[{"type":"text","value":"垃圾收集、内存管理"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"数据不再有用，将其值设置为null。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"闭包的作用域链中包含着html，有必要把其设置为null"}]}]},{"type":"element","tag":"code","props":{"code":"function fn() {\n  let el = $(\"#el\")\n  el.click(function(){})\n  el = null\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-130f0c"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3fa124"},"children":[{"type":"text","value":"fn"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"() {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-130f0c"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":" el "}]},{"type":"element","tag":"span","props":{"class":"ct-130f0c"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3fa124"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-0a7352"},"children":[{"type":"text","value":"\"#el\""}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"  el."}]},{"type":"element","tag":"span","props":{"class":"ct-3fa124"},"children":[{"type":"text","value":"click"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-130f0c"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"(){})"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"  el "}]},{"type":"element","tag":"span","props":{"class":"ct-130f0c"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-66dc98"},"children":[{"type":"text","value":"null"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4f9cfd"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"css-代码方面"},"children":[{"type":"text","value":"Css 代码方面"}]},{"type":"element","tag":"h4","props":{"id":"避免出现重绘重排"},"children":[{"type":"text","value":"避免出现重绘、重排"}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-0a7352{color:#96D0FF}.ct-66dc98{color:#6CB6FF}.ct-3fa124{color:#DCBDFB}.ct-4f9cfd{color:#ADBAC7}.ct-130f0c{color:#F47067}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"vue-代码方面","depth":2,"text":"Vue 代码方面"},{"id":"javascript-代码方面","depth":2,"text":"JavaScript 代码方面"},{"id":"css-代码方面","depth":2,"text":"Css 代码方面"}]}},"_type":"markdown","_id":"content:docs:62.code.md","_source":"content","_file":"docs/62.code.md","_extension":"md"}